<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DrawDrum - Admin Panel</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="admin-page compact">
    <div class="container-fluid">
        <!-- Compact Header -->
        <header class="header-compact">
            <h1 class="logo-compact">
                <span class="logo-icon">‚óâ</span>
                DrawDrum
            </h1>
            <div class="header-right">
                <div class="status-indicator" id="connectionStatus">
                    <span class="status-dot"></span>
                    <span class="status-text">Connecting...</span>
                </div>
                <a href="/display" target="_blank" class="btn btn-secondary btn-sm">
                    <span class="btn-icon">‚Üó</span>
                    Open Display
                </a>
            </div>
        </header>

        <!-- Main Content - Compact Grid -->
        <main class="admin-grid">
            <!-- Left Column: Text Input & Controls -->
            <section class="panel text-panel">
                <div class="panel-header">
                    <h2>Display Text</h2>
                </div>
                <div class="panel-body">
                    <!-- Formatting Controls - Inline -->
                    <div class="controls-row">
                        <div class="control-group">
                            <label for="textColor">Color</label>
                            <select id="textColor">
                                <option value="#FFFFFF">White</option>
                                <option value="#EF4444">Red</option>
                                <option value="#22C55E">Green</option>
                                <option value="#3B82F6">Blue</option>
                                <option value="#EAB308">Yellow</option>
                                <option value="#F97316">Orange</option>
                                <option value="#A855F7">Purple</option>
                                <option value="#EC4899">Pink</option>
                                <option value="#06B6D4">Cyan</option>
                                <option value="#FFD700">Gold</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="textStyle">Style</label>
                            <select id="textStyle">
                                <option value="normal">Normal</option>
                                <option value="bold">Bold</option>
                            </select>
                        </div>
                        <div class="control-group">
                            <label for="displayTextSize">Size</label>
                            <select id="displayTextSize">
                                <option value="48">48px</option>
                                <option value="72">72px</option>
                                <option value="96" selected>96px</option>
                                <option value="128">128px</option>
                                <option value="160">160px</option>
                                <option value="200">200px</option>
                            </select>
                        </div>
                    </div>
                    <textarea id="passportText" placeholder="Enter passport numbers..." rows="3"></textarea>
                    <div class="btn-row">
                        <button type="button" class="btn btn-primary" id="updateTextBtn">Update Display</button>
                        <button type="button" class="btn btn-ghost" id="clearTextBtn">Clear</button>
                    </div>
                </div>
            </section>

            <!-- Middle Column: Logo & Timer -->
            <section class="panel media-panel">
                <div class="panel-header">
                    <h2>Logo</h2>
                </div>
                <div class="panel-body">
                    <div class="logo-section">
                        <div class="upload-compact" id="uploadArea">
                            <input type="file" id="logoUpload" accept="image/*" hidden>
                            <span class="upload-icon-sm">üìÅ</span>
                            <span>Upload</span>
                        </div>
                        <div class="current-logo-compact" id="currentLogoPreview" style="display: none;">
                            <img id="currentLogoImg" src="" alt="Logo">
                            <button type="button" class="btn btn-danger btn-xs" id="deleteLogoBtn">√ó</button>
                        </div>
                    </div>
                </div>
                
                <div class="panel-header">
                    <h2>Timer</h2>
                </div>
                <div class="panel-body">
                    <div class="timer-compact">
                        <div class="timer-inputs">
                            <input type="number" id="timerMinutes" class="timer-input-sm" value="5" min="0" max="99">
                            <span>:</span>
                            <input type="number" id="timerSeconds" class="timer-input-sm" value="00" min="0" max="59">
                        </div>
                        <div class="control-group">
                            <label for="timerDisplaySize">Size</label>
                            <select id="timerDisplaySize" class="select-sm">
                                <option value="48" selected>48px</option>
                                <option value="72">72px</option>
                                <option value="96">96px</option>
                                <option value="128">128px</option>
                            </select>
                        </div>
                    </div>
                    <div class="timer-btns">
                        <button type="button" class="btn btn-success btn-sm" id="timerStartBtn">‚ñ∂ Start</button>
                        <button type="button" class="btn btn-warning btn-sm" id="timerPauseBtn">‚è∏ Pause</button>
                        <button type="button" class="btn btn-danger btn-sm" id="timerResetBtn">‚Üª Reset</button>
                    </div>
                    <div class="timer-display-compact" id="timerPreview">05:00</div>
                </div>
            </section>

            <!-- Right Column: Live Preview -->
            <section class="panel preview-panel-compact">
                <div class="panel-header">
                    <h2>Preview</h2>
                </div>
                <div class="panel-body preview-area">
                    <div class="preview-logo-sm" id="previewLogo"></div>
                    <div class="preview-text-sm" id="previewText">
                        <span class="placeholder-text">Enter text to preview</span>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="/static/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            initAdmin();
        });
    </script>
</body>
</html>
